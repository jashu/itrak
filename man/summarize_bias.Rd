% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/summarize_bias.R
\name{summarize_bias}
\alias{summarize_bias}
\title{Summary of attention bias metrics}
\usage{
summarize_bias(data, measure, trial_type, reference = NULL,
  search_limit = 5)
}
\arguments{
\item{data}{A data frame or table.}

\item{measure}{The name of the column in \code{data} that contains
chronologically ordered observations of numeric type.}

\item{trial_type}{The name of the column in \code{data} that provides the
trial type of the corresponding row of \code{measure}. \code{trial_type}
must be a dichotomous factor (having exactly 2 levels) or convertible to
such.}

\item{reference}{Value indicating which level of trial \code{type} should
come first when subtracting trials of opposite type to generate a bias
score: \eqn{bias = reference type - opposite type}. If \code{type} is of
class \code{factor}, defaults to the first factor level; otherwise defaults
to the trial type that comes first alphanumerically.}

\item{search_limit}{When calculating trial-level bias, how many trials to
look forward or backward to find a trial of opposite type. Default value is
5. If no match is found within the \code{search_limit} of a trial, \code{NA}
will be assigned to that trial.}
}
\value{
An object of the same class as \code{data} with the following
summary metrics:
\describe{
 \item{mean_bias}{Traditional bias score obtained by taking the mean of one
 trial type and subtracting it from the mean of the opposite trial type.}
 \item{mean_toward}{Mean bias toward the target stimulus obtained by
 calculating the mean of the positive trial-level bias scores.}
 \item{mean_away}{Mean bias away from the target stimulus obtained by
  calculating the absolute value of the mean of the negative trial-level bias
  scores.}
 \item{peak_toward}{Maximum bias toward the target stimulus obtained by
   calculating the maximum trial-level bias score.}
 \item{peak_away}{Maximum bias away from the target stimulus obtained by
   calculating the absolute value of the minimum (most negative) trial-level
   bias score.}
 \item{variability}{Variability in bias obtained by calculating the mean of
   the absolute value of the lag-1 differences in trial-level bias scores.}
 \item{trials_toward}{Number of trials during which bias was directed toward
   the target.}
 \item{trials_away}{Number of trials during which bias was directed away from
   the target.}
 \item{trials_NA}{Number of trials for which a trial-level bias score could
   not be computed, i.e., a trial of opposite type could not be found within
   the \code{search_limit}}
 \item{trials_total}{Total number of trials.}
 }
}
\description{
\code{summarize_bias} combines the \code{\link{get_bs}} and
\code{\link{get_tlbs}} functions to generate a traditional attention bias
metric as well as summary metrics of trial-level attention bias as described
by Zvielli et al. (2015).
}
\section{Departures from Zvielli et al.}{

The names of the trial-level bias score (TL-BS) parameters and the methods
for calculating them adhere closely to those used and described by Zvielli et
al. (2015). There are two exceptions.
\enumerate{
 \item Zvielli et al.'s Mean TL-BS POSITIVE and Peak TL-BS POSITIVE are
   labeled here as \code{mean_toward} and \code{peak_toward}, respectively.
   In their discussion of these parameters, Zvielli et al. also refer to them
   as "the \emph{toward} parameters." This terminology is favored because it
   is more descriptive and disambiguates the direction of attention from the
   target of attention. (For example, "bias toward negative stimuli" is
   clearer than "positive bias for negative stimuli.") For the same reason,
   Zvielli et al.'s Mean TL-BS NEGATIVE and Peak TL-BS NEGATIVE are labeled
   here as \code{mean_away} and \code{peak_away}, respectively.
 \item Calculation of the TL-BS parameters is implemented precisely as
   described by Zvielli et al. with one minor modification: after taking the
   mean and min of the negative trial-level bias scores to obtain the
   \code{mean_away} and \code{peak_away} parameters, resepectively, the
   results are multiplied by -1 to remove the negative sign. The rationale
   for this modification is as follows. First, leaving the negative sign in
   place is redundant since the direction of the bias is given by the name of
   the parameter. Second, and more problematic, scales that only have a
   negative vector (i.e., increasing effects are represented by decreasing
   numbers) are prone to misinterpretation. This is because statistical
   models will not know that increasing attention bias is scaled in a
   negative direction--increases are always defined as moving to the right
   on the \emph{x} axis, i.e., becoming more positive--so one must remember
   that an increase on the bias-away scale is actually a decrease in
   attention bias in order to interpret results correctly. For example, if
   one finds a positive correlation between bias-away and some other
   (positively scaled) variable, then one must perform the mental gymnastics
   of a) realizing that a positive correlation means that an increase on the
   bias-away scale (becoming less negative) is associated with an increase
   in the other variable and b) recalling that an increase on the bias-away
   scale actually reflects a decrease in attention bias before c) coming to
   the correct, but counter-intutitive conclusion, that a positive
   correlation in this case reflects a negative relationship. Converting
   \code{mean_away} and \code{peak_away} to a positive scale spares the user
   from this future headache.
   }
}

\section{IMPORTANT}{

Before calling this function, ensure that the data being passed have been
grouped into sets of trials, with each set containing a single series of
measurements belonging to a single individual. \code{\link[dplyr]{group_by}}
is recommended for this purpose. If you receive an output that has less or
more rows of observations than you were expecting, incorrect grouping is
likely to blame.
}

\section{SUPER IMPORTANT}{

You must also ensure that each set of trials is in chronological order.
Otherwise, the trial-level bias calculation will be wrong, and there will be
no obvious sign that this has happened. To ensure proper grouping and
ordering, it is recommended that prior to calling this function you sort your
data using \code{\link[dplyr]{arrange}(data, g1, ..., trial)} where \code{g1}
is your primary grouping variable (most likely `subject` or `id`) followed by
any secondary grouping variables (e.g., 'session', 'category') and ending with
the variable that gives the \code{trial} number. This should then be piped to
\code{\link[dplyr]{group_by}(g1, ...)}, where \code{g1, ...} corresponds
precisely to the same grouping variables used in the call to
\code{\link[dplyr]{arrange}}. (Do NOT include \code{trial} in the call to
\code{\link[dplyr]{group_by}}.) The result is then ready to be piped to the
\code{summarize_bias} function.
}
\examples{
# Create example data frame containing 10 time series of 10 reaction times
# and trial types of congruent ('con') vs. incongruent ('incon'):
data <- data.frame(id = rep(1:10, each = 10),
                   rt = sample(500:5000, 100),
                   type = sample(c("con","incon"), 100, replace = TRUE),
                   trial = rep(1:10, 10))

# Use dplyr to sort by trial and group by id and then generate bias summary
# specifying that congruent trials should be subtracted from incongruent by
# setting reference to "incon":
data \%>\%
arrange(id, trial) \%>\%
group_by(id) \%>\%
summarize_bias(measure = rt, trial_type = type, reference = 'incon')

}
\references{
Zvielli A, Bernstein A, Koster EHW. 2015. Temporal dynamics of
attentional bias. \emph{Clinical Psychological Science}. 3(5):772-788.
}
\seealso{
\code{\link{get_bs}}, \code{\link{get_tlbs}},
\code{\link[dplyr]{mutate}}, \code{\link[dplyr]{summarize}}
}

